"""
Exercise: Add State Management to a Basic Agent

Your task: Take this basic agent and add proper state management.

Requirements:
1. Add a TypedDict state with appropriate fields
2. Track iteration count
3. Accumulate messages using a reducer
4. Add a conditional edge based on state
"""

# TODO: Define your state TypedDict here
# class AgentState(TypedDict):
#     ...


# TODO: Implement these node functions
def process_input(state):
    """Process the input and update state."""
    pass


def analyze(state):
    """Analyze and decide next steps."""
    pass


def generate_output(state):
    """Generate final output."""
    pass


# TODO: Build your graph
def build_agent():
    """Build the stateful agent graph."""
    pass


def main():
    # Test your implementation
    print("Implement the agent and run your tests here")


if __name__ == "__main__":
    main()
